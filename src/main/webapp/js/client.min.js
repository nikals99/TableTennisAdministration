var app=angular.module("ttApp",["ngRoute"]);app.config(["$routeProvider",function(t){t.when("/test",{templateUrl:"views/test.html"}).when("/",{templateUrl:"views/main.html",controller:"matchCtrl"}).when("/addMatch",{templateUrl:"views/addMatch.html",controller:"addMatchCtrl"})}]);
app=angular.module("ttApp"),app.controller("addMatchCtrl",["$scope","$location","matchesService",function(a,e,t){var l={player1:"",player2:"",result:""};a.addMatch=function(){l.player1=a.player1,l.player2=a.player2,l.result=a.result,t.postNewMatch(l).then(function(){e.url("/")})}}]);
app=angular.module("ttApp"),app.controller("matchCtrl",["$scope","$location","matchesService",function(t,a,c){c.getOverview().then(function(a){t.matches=a}),t.addNewMatch=function(){a.url("/addMatch")}}]);
angular.module("ttApp").factory("matchesService",["$http","$q",function(e,t){function n(){return null!=a?t(function(e){e(a)}):e.get("/game").then(function(e){if(e.data._embedded.matches instanceof Array)return a=e.data._embedded.matches,r(e.data._embedded.matches)})}function r(e){return e.reverse()}var a;return{getAll:n,getOverview:function(){return n().then(function(e){return e.map(function(e){return{player1:e.player1,player2:e.player2,result:e.result}})})},postNewMatch:function(t){return e.post("/game",t).then(function(e){return a.unshift(e.data),!0})}}}]);